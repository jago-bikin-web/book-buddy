{% extends 'base.html' %}

{% block framework %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
{% endblock framework %}

{% block content %}

<style>
    .custom-card {
        width: 90%;
        margin: 20px auto;
    }
</style>

<script>
    async function getProducts() {
    return fetch("{% url 'findbuddy:get_book_json' %}").then((res) => res.json())
    }

    const cardContainer = document.getElementById("product_cards");

        cardContainer.innerHTML = "";

        products.forEach((item) => {
            // Create a card for each item
            const card = document.createElement("div");
            card.className = "product-card";

            card.innerHTML = `
            <h3>${item.fields.titles}</h3>
            <p><strong>author:</strong> $${item.fields.authors}</p>
            <p><strong>description:</strong> ${item.fields.description}</p>
            `;
            cardContainer.appendChild(card);
        });



</script>
{% endblock content %}