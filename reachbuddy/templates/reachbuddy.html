{% extends 'base.html' %}

<!-- Load static files -->
{% load static %}

{% block meta %}
<title>Reach Buddy | Books Buddy</title>
{% endblock %}

{% block framework %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<script src="https://cdn.tailwindcss.com"></script>
<link rel="stylesheet" href="{% static 'css/reachbuddy.css' %}" type="text/css"/>
{% endblock %}

{% block content %}

{% include 'header.html' %}
<div class="container">
  <div class="absolute inset-x-0 -top-40 -z-10 transform-gpu overflow-hidden blur-3xl sm:-top-80" aria-hidden="true">
    <div class="relative left-[calc(50%-11rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 rotate-[30deg] bg-gradient-to-tr from-[#964B00] to-[#FFFF00] opacity-30 sm:left-[calc(50%-30rem)] sm:w-[72.1875rem]" style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"></div>
  </div>
  <!-- <div class="row"> -->

    <!-- <div id="left" class="col-sm-3 bg-warning rounded-right" style="min-height: 100vh; ">
      <div class="d-flex flex-column align-items-center p-4 mt-4">
        <img class="rounded-circle shadow-1-strong mb-3"
        src="{% static 'img/pp_daffa.png' %}" alt="avatar" width="65"
        height="65" />
        <h5 class="text-center">{{ name }}</h5>
      </div>
    </div> -->

    <div class="col-sm" style="width: 100vw;">
      <div class="container text-center">
        <!-- <div class="row mt-5 py-5">
          <div class="col-12">
            <h1 class="display-4 text-dark font-bold">Welcome to Reach Buddy, {{ name }}</h1>
          </div>
        </div> -->

        <div class="mx-auto max-w-2xl py-32 sm:py-48 lg:py-56">
          <div class="text-center">
            <h1 class="text-4xl font-bold tracking-tight text-gray-900 sm:text-6xl" data-aos="fade-down" data-aos-duration="1000">Welcome to <br>Reach Buddy, {{ name }}</h1>
            <p class="mt-6 text-lg leading-8 text-gray-600" data-aos="fade-up" data-aos-duration="1000">With ReachBuddy, you can join a friendly community of book buddies. Share your thoughts on books, have interesting conversations, and find new books recommended by others. ReachBuddy is all about connecting readers and making it easy to discover great books through the people you meet. It's a place where book enthusiasts come together.</p>
            <div class="mt-5 flex items-center justify-center gap-x-6">
              <a href="#contents" class="rounded-md bg-yellow-600 px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-yellow-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600" data-aos="fade-up" data-aos-duration="1000">Let's get started <span aria-hidden="true">→</span></a>
            </div>
          </div>
        </div>

        <a id="contents" href="{% url 'reachbuddy:create_thread' %}">
          <button class="btn btn-warning col-3">
            Post a Thread
          </button>
        </a>

        <div class="absolute inset-x-0 top-[calc(100%-13rem)] -z-10 transform-gpu overflow-hidden blur-3xl sm:top-[calc(100%-30rem)]" aria-hidden="true">
          <div class="relative left-[calc(50%+3rem)] aspect-[1155/678] w-[36.125rem] -translate-x-1/2 bg-gradient-to-tr from-[#964B00] to-[#FFFF00] opacity-30 sm:left-[calc(50%+36rem)] sm:w-[72.1875rem]" style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"></div>
        </div>

        <div id="thread_cards" class="thread-cards-container">
          {% for thread in threads %}

          <div class="container my-2 py-2 ">
            <div class="row d-flex justify-content-center ">
              <div class="col-md-12 col-lg-10 col-xl-8 ">
                <div class="card col-7 mx-auto border-warning border-3 border-radius rounded-4">
                  <div class="card-body ">
                    <div class="d-flex flex-start align-items-center">
                      <div class="d-flex align-items-center">
                        <img class="rounded-circle shadow-1-strong me-3"
                          src="{% static 'img/pp_daffa.png' %}" alt="avatar" width="60"
                          height="60" />
                        <div>
                          <h6 class="fw-bold text-warning mb-1">
                            {{ name }}
                          </h6>
                        </div>
                      </div>
                      <p class="text-muted small mb-1 px-2">
                        @{{ name }} · {{ thread.date_added }}
                      </p>

                      <form method="post" class="d-flex align-items-center ml-auto" action="{% url 'reachbuddy:trash_thread' thread.id %}">
                        {% csrf_token %}
                        <button type="submit"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                          <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"/>
                          <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"/>
                        </svg>
                      </button>
                    </form>

                    </div>
                    
                      <p>{{ thread.review }}</p>
        
                    <div class="small d-flex justify-content-start">
                      <a href="#!" id="like_button" class="d-flex align-items-center ml-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart me-2" viewBox="0 0 16 16">
                          <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                        </svg>
                      </a>
                      <p>{{ thread.likes }}</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          {% endfor %}
        </div>

        <div class="col-6 mx-auto mt-5">
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Review</th>
                <th>Date</th>
                <th>Likes</th>
              </tr>
            </thead>

            <tbody>
              {% comment %} Berikut cara memperlihatkan data produk di bawah baris ini {% endcomment %}
              {% for thread in threads %}
                <tr>
                  <td>{{ name }}</td>
                  <td>{{ thread.review }}</td>
                  <td class="mx-4">{{ thread.date_added }}</td>
                  <td>{{ thread.likes }}</td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>

      </div>
    </div>
  <!-- </div> -->
</div>

{% include 'footer.html' %}

<script>
  AOS.init();
</script>

{% endblock content %}
